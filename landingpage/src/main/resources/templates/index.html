<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragments/layoutrole}">
<head>
    <title>Index</title>
</head>
<body>
<div layout:fragment="content">
    <div>
        <table>
            <tr>
                <td colspan="5" style="background-color:#333; color:white">
                    <button class="btn btn-primary" onclick="userDetail()" id="user">Test</button>
                </td>
            </tr>
            <tr>
                Welcome,
            </tr>
            <tbody id="userData">
            </tbody>
        </table>
    </div>
    <script>
       userdetail()
       function userDetail(roleId) {
        $.ajax({
            url:'http://localhost:5000/getuserrole/' + roleId,
            type:'GET',
            dataType:'json',
            contentType:'application/json',
            success:function(userdetail) {
                console.log(userdetail)
                str = '';
                for(i = 0; i < userdetail.length; i++) {
                    str += `
                <tr>
                    <td>${userdetail[i].biodata.fullname}</td>  
                </tr>
                `;
                }
                $('#userData').html(str)
            }
        })
       }
       
    </script>
</div>

</body>
</html>

